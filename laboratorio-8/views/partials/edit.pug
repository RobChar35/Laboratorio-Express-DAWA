extends ../layout.pug

block content
    div.card(style="width: 500px; padding: 20px; margin: 0 auto; margin-top: 50px")
        div.card-body 
            h3.card-title(style="margin-top: 10px;margin-bottom: 20px;") Editar Usuario
            form(action=`/users/update/${user._id}`, method='POST')
                
                div.form-outline
                    input#name.form-control(type='text', name='name', value=user.name, required)
                    label.form-label(for='name') Nombre:

                br

                div.form-outline
                    input#email.form-control(type='email', name='email', value=user.email, required)
                    label.form-label(for='email') Email:

                br

                div.form-outline
                    input#password.form-control(type='password', name='password', placeholder='Dejar en blanco para mantener la misma contraseña')
                    label.form-label(for='password') Contraseña:

                br

                button.btn.btn-success(type="submit") Actualizar usuario

                if (typeof errors !== 'undefined' && errors.length > 0) 
                    ul.list-group.list-group-light(style="width: 420px; margin-top: 30px;") 
                        each error in errors
                            li.list-group-item.px-3.border-0.rounded-3.list-group-item-danger.mb-2= error.msg

            button.btn.btn-secondary(style="padding: 10px; margin: 0 auto; margin-top: 20px")
                a(href="/users") Regresar a la lista de usuarios 

    if flash.success 
        ul.list-group.list-group-light(style="width: 500px; padding: 10px; margin: 0 auto; margin-top: 20px")
            li.list-group-item.px-3.border-0.rounded-3.list-group-item-primary.mb-2.success= flash.success 
    else if flash.error 
        ul.list-group.list-group-light
            li.list-group-item.px-3.border-0.rounded-3.list-group-item-danger.mb-2.error= flash.error 

    